<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" class="jsx-74ac21e17e774b8">
    <title>Chat with OpenAI GPT-3</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <style>
        /* Add some styles here */
        body {
            font-family: Arial, sans-serif;
        }
        .chat-container {
            width: 65%;
            height: 100%;
            margin: 0 auto;
        }
        .chat-header {
            background-color: #c2c2c2;
            padding: 10px;
            position: static;
        }
        .chat-header h1 {
            text-align: center;
            margin: 0;
            overflow: auto;
        }
        .chat-body {
            background-color: #f2f2f2;
            height: 500px;
            float: center;
        }
        .bubble-sent {
            width: 100%
            padding: 10px;
            margin: 10px;
            box-sizing: border-box;
            border-radius: 10px 10px 10px 10px;
            background-color: #4CAF50;
            color: #000000;
            text-align: right;
            float: right;
        }
        .bubble-received {
            width: 100%
            padding: 10px;
            margin: 10px;
            box-sizing: border-box;
            border-radius: 10px 10px 10px 10px;
            background-color: #fff;
            color: #000000;
            text-align: left;
            float: left;
        }
        .chat-input {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            bottom: 0;
            left: 0;
            background-color: #f2f2f2;
        }
        .chat-bottom {
            background-color: #c2c2c2;
            padding: 10px;
            overflow-y: auto;
            position: static;
        }
        .user-input {
            m-0 w-full resize-none border-0 bg-transparent p-0 pl-2 pr-7 focus:ring-0 focus-visible:ring-0 dark:bg-transparent md:pl-0" style="max-height: 200px; height: 24px; overflow-y: hidden;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>Chat with OpenAI GPT-3</h1>
        </div>
        <div class="chat-body" id="chat_content">
        </div>
        <div class="chat-bottom">
            <form onsubmit="submitForm(); return false;">
                <textarea tabindex="0" name="message" id="user_input" rows="1" placeholder="" class="user-input"></textarea>
            </form>
        </div>
    </div>
<script type="text/javascript">
    function submitForm() {
        var chat_content = document.getElementById('chat_content');
        var user_input = $('#user_input').val();
        chat_content.scrollTop = chat_content.scrollHeight;
        $('#chat_content').append('<div class="bubble-sent">User: ' + user_input + '</div>');
        $('#user_input').val('');
        $.ajax({
            type: 'POST',
            url: '/get_response',
            data: {user_input: user_input},
            success: function (response) {
                $('#chat_content').append('<div class="bubble-received">Bot: ' + response + '</div>');
                chat_content.scrollTop = chat_content.scrollHeight;
            }
        });

    }
</script>
</body>
</html>
